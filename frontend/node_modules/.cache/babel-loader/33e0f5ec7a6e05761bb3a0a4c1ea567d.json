{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ojaswi\\\\JobBlitz\\\\frontend\\\\src\\\\component\\\\Signup.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState, useContext } from \"react\";\nimport { Grid, TextField, Button, Typography, makeStyles, Paper, MenuItem } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport ChipInput from \"material-ui-chip-input\";\nimport PhoneInput from \"react-phone-input-2\";\nimport \"react-phone-input-2/lib/material.css\";\nimport PasswordInput from \"../lib/PasswordInput\";\nimport EmailInput from \"../lib/EmailInput\";\nimport { SetPopupContext } from \"../App\";\nimport apiList from \"../lib/apiList\";\nimport isAuth from \"../lib/isAuth\";\nconst useStyles = makeStyles(theme => ({\n  body: {\n    padding: \"60px 60px\"\n  },\n  inputBox: {\n    width: \"400px\"\n  },\n  submitButton: {\n    width: \"400px\"\n  }\n}));\n\nconst MultifieldInput = props => {\n  _s();\n\n  const classes = useStyles();\n  const {\n    education,\n    setEducation\n  } = props;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [education.map((obj, key) => /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      container: true,\n      className: classes.inputBox,\n      style: {\n        paddingLeft: 0,\n        paddingRight: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: `Institution Name #${key + 1}`,\n          value: education[key].institutionName,\n          onChange: event => {\n            const newEdu = [...education];\n            newEdu[key].institutionName = event.target.value;\n            setEducation(newEdu);\n          },\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Start Year\",\n          value: obj.startYear,\n          variant: \"outlined\",\n          type: \"number\",\n          onChange: event => {\n            const newEdu = [...education];\n            newEdu[key].startYear = event.target.value;\n            setEducation(newEdu);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"End Year\",\n          value: obj.endYear,\n          variant: \"outlined\",\n          type: \"number\",\n          onChange: event => {\n            const newEdu = [...education];\n            newEdu[key].endYear = event.target.value;\n            setEducation(newEdu);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)]\n    }, key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: () => setEducation([...education, {\n          institutionName: \"\",\n          startYear: \"\",\n          endYear: \"\"\n        }]),\n        className: classes.inputBox,\n        children: \"Add another institution details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MultifieldInput, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n  return [useStyles];\n});\n\n_c = MultifieldInput;\n\nconst Login = props => {\n  _s2();\n\n  const classes = useStyles();\n  const setPopup = useContext(SetPopupContext);\n  const [loggedin, setLoggedin] = useState(isAuth());\n  const [signupDetails, setSignupDetails] = useState({\n    type: \"applicant\",\n    email: \"\",\n    password: \"\",\n    name: \"\",\n    education: [],\n    skills: [],\n    resume: \"\",\n    profile: \"\",\n    bio: \"\",\n    contactNumber: \"\"\n  });\n  const [phone, setPhone] = useState(\"\");\n  const [education, setEducation] = useState([{\n    institutionName: \"\",\n    startYear: \"\",\n    endYear: \"\"\n  }]);\n  const [inputErrorHandler, setInputErrorHandler] = useState({\n    email: {\n      untouched: true,\n      required: true,\n      error: false,\n      message: \"\"\n    },\n    password: {\n      untouched: true,\n      required: true,\n      error: false,\n      message: \"\"\n    },\n    name: {\n      untouched: true,\n      required: true,\n      error: false,\n      message: \"\"\n    }\n  });\n\n  const handleInput = (key, value) => {\n    setSignupDetails({ ...signupDetails,\n      [key]: value\n    });\n  };\n\n  const handleInputError = (key, status, message) => {\n    setInputErrorHandler({ ...inputErrorHandler,\n      [key]: {\n        required: true,\n        untouched: false,\n        error: status,\n        message: message\n      }\n    });\n  };\n\n  const handleLogin = () => {\n    const tmpErrorHandler = {};\n    Object.keys(inputErrorHandler).forEach(obj => {\n      if (inputErrorHandler[obj].required && inputErrorHandler[obj].untouched) {\n        tmpErrorHandler[obj] = {\n          required: true,\n          untouched: false,\n          error: true,\n          message: `${obj[0].toUpperCase() + obj.substr(1)} is required`\n        };\n      } else {\n        tmpErrorHandler[obj] = inputErrorHandler[obj];\n      }\n    });\n    console.log(education);\n    let updatedDetails = { ...signupDetails,\n      education: education.filter(obj => obj.institutionName.trim() !== \"\").map(obj => {\n        if (obj[\"endYear\"] === \"\") {\n          delete obj[\"endYear\"];\n        }\n\n        return obj;\n      })\n    };\n    setSignupDetails(updatedDetails);\n    const verified = !Object.keys(tmpErrorHandler).some(obj => {\n      return tmpErrorHandler[obj].error;\n    });\n\n    if (verified) {\n      const uName = signupDetails.name;\n      axios.post(apiList.signup, updatedDetails).then(response => {\n        localStorage.clear();\n        localStorage.setItem(\"token\", response.data.token);\n        localStorage.setItem(\"type\", response.data.type);\n        localStorage.setItem(\"currentUserName\", uName);\n        setLoggedin(isAuth());\n        setPopup({\n          open: true,\n          severity: \"success\",\n          message: \"Logged in successfully\"\n        });\n        console.log(response);\n      }).catch(err => {\n        setPopup({\n          open: true,\n          severity: \"error\",\n          message: err.response.data.message\n        });\n        console.log(err.response);\n      });\n    } else {\n      setInputErrorHandler(tmpErrorHandler);\n      setPopup({\n        open: true,\n        severity: \"error\",\n        message: \"Incorrect Input\"\n      });\n    }\n  };\n\n  const handleLoginRecruiter = () => {\n    const tmpErrorHandler = {};\n    Object.keys(inputErrorHandler).forEach(obj => {\n      if (inputErrorHandler[obj].required && inputErrorHandler[obj].untouched) {\n        tmpErrorHandler[obj] = {\n          required: true,\n          untouched: false,\n          error: true,\n          message: `${obj[0].toUpperCase() + obj.substr(1)} is required`\n        };\n      } else {\n        tmpErrorHandler[obj] = inputErrorHandler[obj];\n      }\n    });\n    let updatedDetails = { ...signupDetails\n    };\n\n    if (phone !== \"\") {\n      updatedDetails = { ...signupDetails,\n        contactNumber: `+${phone}`\n      };\n    } else {\n      updatedDetails = { ...signupDetails,\n        contactNumber: \"\"\n      };\n    }\n\n    setSignupDetails(updatedDetails);\n    const verified = !Object.keys(tmpErrorHandler).some(obj => {\n      return tmpErrorHandler[obj].error;\n    });\n    console.log(updatedDetails);\n\n    if (verified) {\n      axios.post(apiList.signup, updatedDetails).then(response => {\n        localStorage.setItem(\"token\", response.data.token);\n        localStorage.setItem(\"type\", response.data.type);\n        setLoggedin(isAuth());\n        setPopup({\n          open: true,\n          severity: \"success\",\n          message: \"Logged in successfully\"\n        });\n        console.log(response);\n      }).catch(err => {\n        setPopup({\n          open: true,\n          severity: \"error\",\n          message: err.response.data.message\n        });\n        console.log(err.response);\n      });\n    } else {\n      setInputErrorHandler(tmpErrorHandler);\n      setPopup({\n        open: true,\n        severity: \"error\",\n        message: \"Incorrect Input\"\n      });\n    }\n  };\n\n  return loggedin ? /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 323,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    className: classes.body,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      direction: \"column\",\n      spacing: 4,\n      alignItems: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h3\",\n          component: \"h2\",\n          children: \"Signup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          select: true,\n          label: \"Category\",\n          variant: \"outlined\",\n          className: classes.inputBox,\n          value: signupDetails.type,\n          onChange: event => {\n            handleInput(\"type\", event.target.value);\n          },\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"applicant\",\n            children: \"Applicant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"recruiter\",\n            children: \"Recruiter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Name\",\n          value: signupDetails.name,\n          onChange: event => handleInput(\"name\", event.target.value),\n          className: classes.inputBox,\n          error: inputErrorHandler.name.error,\n          helperText: inputErrorHandler.name.message,\n          onBlur: event => {\n            if (event.target.value === \"\") {\n              handleInputError(\"name\", true, \"Name is required\");\n            } else {\n              handleInputError(\"name\", false, \"\");\n            }\n          },\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(EmailInput, {\n          label: \"Email\",\n          value: signupDetails.email,\n          onChange: event => handleInput(\"email\", event.target.value),\n          inputErrorHandler: inputErrorHandler,\n          handleInputError: handleInputError,\n          className: classes.inputBox,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(PasswordInput, {\n          label: \"Password\",\n          value: signupDetails.password,\n          onChange: event => handleInput(\"password\", event.target.value),\n          className: classes.inputBox,\n          error: inputErrorHandler.password.error,\n          helperText: inputErrorHandler.password.message,\n          onBlur: event => {\n            if (event.target.value === \"\") {\n              handleInputError(\"password\", true, \"Password is required\");\n            } else {\n              handleInputError(\"password\", false, \"\");\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this), signupDetails.type === \"applicant\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(MultifieldInput, {\n          education: education,\n          setEducation: setEducation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(ChipInput, {\n            className: classes.inputBox,\n            label: \"Skills\",\n            variant: \"outlined\",\n            onChange: chips => setSignupDetails({ ...signupDetails,\n              skills: chips\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            name: \"title\",\n            label: \"Resume Link\",\n            variant: \"outlined\",\n            fullWidth: true,\n            value: signupDetails.resume,\n            onChange: e => setSignupDetails({ ...signupDetails,\n              resume: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            name: \"title\",\n            label: \"Profile Image Link\",\n            variant: \"outlined\",\n            fullWidth: true,\n            value: signupDetails.profile,\n            onChange: e => setSignupDetails({ ...signupDetails,\n              profile: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          style: {\n            width: \"100%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Bio (upto 250 words)\",\n            multiline: true,\n            rows: 8,\n            style: {\n              width: \"100%\"\n            },\n            variant: \"outlined\",\n            value: signupDetails.bio,\n            onChange: event => {\n              if (event.target.value.split(\" \").filter(function (n) {\n                return n != \"\";\n              }).length <= 250) {\n                handleInput(\"bio\", event.target.value);\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(PhoneInput, {\n            country: \"in\",\n            value: phone,\n            onChange: phone => setPhone(phone)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: () => {\n            signupDetails.type === \"applicant\" ? handleLogin() : handleLoginRecruiter();\n          },\n          className: classes.submitButton,\n          children: \"Signup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 325,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Login, \"L9BDKgpFJ4T5jOgsnlRQ2+gMS3o=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = Login;\nexport default Login;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MultifieldInput\");\n$RefreshReg$(_c2, \"Login\");","map":{"version":3,"sources":["C:/Users/ojaswi/JobBlitz/frontend/src/component/Signup.js"],"names":["useState","useContext","Grid","TextField","Button","Typography","makeStyles","Paper","MenuItem","axios","Redirect","ChipInput","PhoneInput","PasswordInput","EmailInput","SetPopupContext","apiList","isAuth","useStyles","theme","body","padding","inputBox","width","submitButton","MultifieldInput","props","classes","education","setEducation","map","obj","key","paddingLeft","paddingRight","institutionName","event","newEdu","target","value","startYear","endYear","Login","setPopup","loggedin","setLoggedin","signupDetails","setSignupDetails","type","email","password","name","skills","resume","profile","bio","contactNumber","phone","setPhone","inputErrorHandler","setInputErrorHandler","untouched","required","error","message","handleInput","handleInputError","status","handleLogin","tmpErrorHandler","Object","keys","forEach","toUpperCase","substr","console","log","updatedDetails","filter","trim","verified","some","uName","post","signup","then","response","localStorage","clear","setItem","data","token","open","severity","catch","err","handleLoginRecruiter","chips","e","split","n","length"],"mappings":"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","sourcesContent":["import { useState, useContext } from \"react\";\r\nimport {\r\n  Grid,\r\n  TextField,\r\n  Button,\r\n  Typography,\r\n  makeStyles,\r\n  Paper,\r\n  MenuItem,\r\n} from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport ChipInput from \"material-ui-chip-input\";\r\nimport PhoneInput from \"react-phone-input-2\";\r\nimport \"react-phone-input-2/lib/material.css\";\r\n\r\nimport PasswordInput from \"../lib/PasswordInput\";\r\nimport EmailInput from \"../lib/EmailInput\";\r\nimport { SetPopupContext } from \"../App\";\r\n\r\nimport apiList from \"../lib/apiList\";\r\nimport isAuth from \"../lib/isAuth\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  body: {\r\n    padding: \"60px 60px\",\r\n  },\r\n  inputBox: {\r\n    width: \"400px\",\r\n  },\r\n  submitButton: {\r\n    width: \"400px\",\r\n  },\r\n}));\r\n\r\nconst MultifieldInput = (props) => {\r\n  const classes = useStyles();\r\n  const { education, setEducation } = props;\r\n\r\n  return (\r\n    <>\r\n      {education.map((obj, key) => (\r\n        <Grid\r\n          item\r\n          container\r\n          className={classes.inputBox}\r\n          key={key}\r\n          style={{ paddingLeft: 0, paddingRight: 0 }}\r\n        >\r\n          <Grid item xs={6}>\r\n            <TextField\r\n              label={`Institution Name #${key + 1}`}\r\n              value={education[key].institutionName}\r\n              onChange={(event) => {\r\n                const newEdu = [...education];\r\n                newEdu[key].institutionName = event.target.value;\r\n                setEducation(newEdu);\r\n              }}\r\n              variant=\"outlined\"\r\n            />\r\n          </Grid>\r\n          <Grid item xs={3}>\r\n            <TextField\r\n              label=\"Start Year\"\r\n              value={obj.startYear}\r\n              variant=\"outlined\"\r\n              type=\"number\"\r\n              onChange={(event) => {\r\n                const newEdu = [...education];\r\n                newEdu[key].startYear = event.target.value;\r\n                setEducation(newEdu);\r\n              }}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={3}>\r\n            <TextField\r\n              label=\"End Year\"\r\n              value={obj.endYear}\r\n              variant=\"outlined\"\r\n              type=\"number\"\r\n              onChange={(event) => {\r\n                const newEdu = [...education];\r\n                newEdu[key].endYear = event.target.value;\r\n                setEducation(newEdu);\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      ))}\r\n      <Grid item>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          onClick={() =>\r\n            setEducation([\r\n              ...education,\r\n              {\r\n                institutionName: \"\",\r\n                startYear: \"\",\r\n                endYear: \"\",\r\n              },\r\n            ])\r\n          }\r\n          className={classes.inputBox}\r\n        >\r\n          Add another institution details\r\n        </Button>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Login = (props) => {\r\n  const classes = useStyles();\r\n  const setPopup = useContext(SetPopupContext);\r\n\r\n  const [loggedin, setLoggedin] = useState(isAuth());\r\n\r\n  const [signupDetails, setSignupDetails] = useState({\r\n    type: \"applicant\",\r\n    email: \"\",\r\n    password: \"\",\r\n    name: \"\",\r\n    education: [],\r\n    skills: [],\r\n    resume: \"\",\r\n    profile: \"\",\r\n    bio: \"\",\r\n    contactNumber: \"\",\r\n  });\r\n\r\n  const [phone, setPhone] = useState(\"\");\r\n\r\n  const [education, setEducation] = useState([\r\n    {\r\n      institutionName: \"\",\r\n      startYear: \"\",\r\n      endYear: \"\",\r\n    },\r\n  ]);\r\n\r\n  const [inputErrorHandler, setInputErrorHandler] = useState({\r\n    email: {\r\n      untouched: true,\r\n      required: true,\r\n      error: false,\r\n      message: \"\",\r\n    },\r\n    password: {\r\n      untouched: true,\r\n      required: true,\r\n      error: false,\r\n      message: \"\",\r\n    },\r\n    name: {\r\n      untouched: true,\r\n      required: true,\r\n      error: false,\r\n      message: \"\",\r\n    },\r\n  });\r\n\r\n  const handleInput = (key, value) => {\r\n    setSignupDetails({\r\n      ...signupDetails,\r\n      [key]: value,\r\n    });\r\n  };\r\n\r\n  const handleInputError = (key, status, message) => {\r\n    setInputErrorHandler({\r\n      ...inputErrorHandler,\r\n      [key]: {\r\n        required: true,\r\n        untouched: false,\r\n        error: status,\r\n        message: message,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleLogin = () => {\r\n    const tmpErrorHandler = {};\r\n    Object.keys(inputErrorHandler).forEach((obj) => {\r\n      if (inputErrorHandler[obj].required && inputErrorHandler[obj].untouched) {\r\n        tmpErrorHandler[obj] = {\r\n          required: true,\r\n          untouched: false,\r\n          error: true,\r\n          message: `${obj[0].toUpperCase() + obj.substr(1)} is required`,\r\n        };\r\n      } else {\r\n        tmpErrorHandler[obj] = inputErrorHandler[obj];\r\n      }\r\n    });\r\n\r\n    console.log(education);\r\n\r\n    let updatedDetails = {\r\n      ...signupDetails,\r\n      education: education\r\n        .filter((obj) => obj.institutionName.trim() !== \"\")\r\n        .map((obj) => {\r\n          if (obj[\"endYear\"] === \"\") {\r\n            delete obj[\"endYear\"];\r\n          }\r\n          return obj;\r\n        }),\r\n    };\r\n\r\n    setSignupDetails(updatedDetails);\r\n\r\n    const verified = !Object.keys(tmpErrorHandler).some((obj) => {\r\n      return tmpErrorHandler[obj].error;\r\n    });\r\n\r\n    if (verified) {\r\n      const uName = signupDetails.name;\r\n      axios\r\n        .post(apiList.signup, updatedDetails)\r\n        .then((response) => {\r\n          localStorage.clear();\r\n          localStorage.setItem(\"token\", response.data.token);\r\n          localStorage.setItem(\"type\", response.data.type);\r\n          localStorage.setItem(\"currentUserName\", uName);\r\n          setLoggedin(isAuth());\r\n          setPopup({\r\n            open: true,\r\n            severity: \"success\",\r\n            message: \"Logged in successfully\",\r\n          });\r\n          console.log(response);\r\n        })\r\n        .catch((err) => {\r\n          setPopup({\r\n            open: true,\r\n            severity: \"error\",\r\n            message: err.response.data.message,\r\n          });\r\n          console.log(err.response);\r\n        });\r\n    } else {\r\n      setInputErrorHandler(tmpErrorHandler);\r\n      setPopup({\r\n        open: true,\r\n        severity: \"error\",\r\n        message: \"Incorrect Input\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleLoginRecruiter = () => {\r\n    const tmpErrorHandler = {};\r\n    Object.keys(inputErrorHandler).forEach((obj) => {\r\n      if (inputErrorHandler[obj].required && inputErrorHandler[obj].untouched) {\r\n        tmpErrorHandler[obj] = {\r\n          required: true,\r\n          untouched: false,\r\n          error: true,\r\n          message: `${obj[0].toUpperCase() + obj.substr(1)} is required`,\r\n        };\r\n      } else {\r\n        tmpErrorHandler[obj] = inputErrorHandler[obj];\r\n      }\r\n    });\r\n\r\n    let updatedDetails = {\r\n      ...signupDetails,\r\n    };\r\n    if (phone !== \"\") {\r\n      updatedDetails = {\r\n        ...signupDetails,\r\n        contactNumber: `+${phone}`,\r\n      };\r\n    } else {\r\n      updatedDetails = {\r\n        ...signupDetails,\r\n        contactNumber: \"\",\r\n      };\r\n    }\r\n\r\n    setSignupDetails(updatedDetails);\r\n\r\n    const verified = !Object.keys(tmpErrorHandler).some((obj) => {\r\n      return tmpErrorHandler[obj].error;\r\n    });\r\n\r\n    console.log(updatedDetails);\r\n\r\n    if (verified) {\r\n      axios\r\n        .post(apiList.signup, updatedDetails)\r\n        .then((response) => {\r\n          localStorage.setItem(\"token\", response.data.token);\r\n          localStorage.setItem(\"type\", response.data.type);\r\n          setLoggedin(isAuth());\r\n          setPopup({\r\n            open: true,\r\n            severity: \"success\",\r\n            message: \"Logged in successfully\",\r\n          });\r\n          console.log(response);\r\n        })\r\n        .catch((err) => {\r\n          setPopup({\r\n            open: true,\r\n            severity: \"error\",\r\n            message: err.response.data.message,\r\n          });\r\n          console.log(err.response);\r\n        });\r\n    } else {\r\n      setInputErrorHandler(tmpErrorHandler);\r\n      setPopup({\r\n        open: true,\r\n        severity: \"error\",\r\n        message: \"Incorrect Input\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return loggedin ? (\r\n    <Redirect to=\"/\" />\r\n  ) : (\r\n    <Paper elevation={3} className={classes.body}>\r\n      <Grid container direction=\"column\" spacing={4} alignItems=\"center\">\r\n        <Grid item>\r\n          <Typography variant=\"h3\" component=\"h2\">\r\n            Signup\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <TextField\r\n            select\r\n            label=\"Category\"\r\n            variant=\"outlined\"\r\n            className={classes.inputBox}\r\n            value={signupDetails.type}\r\n            onChange={(event) => {\r\n              handleInput(\"type\", event.target.value);\r\n            }}\r\n          >\r\n            <MenuItem value=\"applicant\">Applicant</MenuItem>\r\n            <MenuItem value=\"recruiter\">Recruiter</MenuItem>\r\n          </TextField>\r\n        </Grid>\r\n        <Grid item>\r\n          <TextField\r\n            label=\"Name\"\r\n            value={signupDetails.name}\r\n            onChange={(event) => handleInput(\"name\", event.target.value)}\r\n            className={classes.inputBox}\r\n            error={inputErrorHandler.name.error}\r\n            helperText={inputErrorHandler.name.message}\r\n            onBlur={(event) => {\r\n              if (event.target.value === \"\") {\r\n                handleInputError(\"name\", true, \"Name is required\");\r\n              } else {\r\n                handleInputError(\"name\", false, \"\");\r\n              }\r\n            }}\r\n            variant=\"outlined\"\r\n          />\r\n        </Grid>\r\n        <Grid item>\r\n          <EmailInput\r\n            label=\"Email\"\r\n            value={signupDetails.email}\r\n            onChange={(event) => handleInput(\"email\", event.target.value)}\r\n            inputErrorHandler={inputErrorHandler}\r\n            handleInputError={handleInputError}\r\n            className={classes.inputBox}\r\n            required={true}\r\n          />\r\n        </Grid>\r\n        <Grid item>\r\n          <PasswordInput\r\n            label=\"Password\"\r\n            value={signupDetails.password}\r\n            onChange={(event) => handleInput(\"password\", event.target.value)}\r\n            className={classes.inputBox}\r\n            error={inputErrorHandler.password.error}\r\n            helperText={inputErrorHandler.password.message}\r\n            onBlur={(event) => {\r\n              if (event.target.value === \"\") {\r\n                handleInputError(\"password\", true, \"Password is required\");\r\n              } else {\r\n                handleInputError(\"password\", false, \"\");\r\n              }\r\n            }}\r\n          />\r\n        </Grid>\r\n        {signupDetails.type === \"applicant\" ? (\r\n          <>\r\n            <MultifieldInput\r\n              education={education}\r\n              setEducation={setEducation}\r\n            />\r\n            <Grid item>\r\n              <ChipInput\r\n                className={classes.inputBox}\r\n                label=\"Skills\"\r\n                variant=\"outlined\"\r\n                onChange={(chips) =>\r\n                  setSignupDetails({ ...signupDetails, skills: chips })\r\n                }\r\n              />\r\n            </Grid>\r\n            <Grid item>\r\n            <TextField name=\"title\" label=\"Resume Link\" variant=\"outlined\"  fullWidth value={signupDetails.resume} onChange={(e) => setSignupDetails({ ...signupDetails, resume: e.target.value })} required />\r\n            </Grid>\r\n            <Grid item>\r\n            <TextField name=\"title\" label=\"Profile Image Link\" variant=\"outlined\"  fullWidth value={signupDetails.profile} onChange={(e) => setSignupDetails({ ...signupDetails, profile: e.target.value })} required />\r\n            </Grid>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Grid item style={{ width: \"100%\" }}>\r\n              <TextField\r\n                label=\"Bio (upto 250 words)\"\r\n                multiline\r\n                rows={8}\r\n                style={{ width: \"100%\" }}\r\n                variant=\"outlined\"\r\n                value={signupDetails.bio}\r\n                onChange={(event) => {\r\n                  if (\r\n                    event.target.value.split(\" \").filter(function (n) {\r\n                      return n != \"\";\r\n                    }).length <= 250\r\n                  ) {\r\n                    handleInput(\"bio\", event.target.value);\r\n                  }\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item>\r\n              <PhoneInput\r\n                country={\"in\"}\r\n                value={phone}\r\n                onChange={(phone) => setPhone(phone)}\r\n              />\r\n            </Grid>\r\n          </>\r\n        )}\r\n\r\n        <Grid item>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              signupDetails.type === \"applicant\"\r\n                ? handleLogin()\r\n                : handleLoginRecruiter();\r\n            }}\r\n            className={classes.submitButton}\r\n          >\r\n            Signup\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}